import{r as a,j as e,a as u}from"./app-BsVf6_Q7.js";import{A as c}from"./AppLayout-CpyaWvdG.js";import{F as d,a as o}from"./CurrencyDollarIcon-DGMOAWQ9.js";import{F as m}from"./ClockIcon-BmE2OgnJ.js";function f({title:s,titleId:r,...i},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const x=a.forwardRef(f);function N({title:s,titleId:r,...i},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const v=a.forwardRef(N);function E(){const[s,r]=a.useState(null),[i,l]=a.useState(!0);a.useEffect(()=>{h()},[]);const h=async()=>{l(!0);try{const j=await(await fetch("/reports/overview",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();r(j)}catch(t){console.error("Error fetching stats:",t)}finally{l(!1)}},n=t=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t||0),g=[{id:"sales",name:"تقرير المبيعات",icon:d,color:"bg-green-500",description:"تفاصيل جميع المبيعات"},{id:"profit",name:"تقرير الأرباح",icon:o,color:"bg-emerald-500",description:"توزيع الأرباح والعمولات"},{id:"debts",name:"تقرير الديون",icon:m,color:"bg-yellow-500",description:"حالة المديونيات والسداد"},{id:"products",name:"تقرير المنتجات",icon:x,color:"bg-purple-500",description:"أداء المنتجات والمخزون"},{id:"sellers",name:"تقرير البائعين",icon:v,color:"bg-blue-500",description:"أداء البائعين وعمولاتهم"}],p=t=>{u.visit(`/reports/${t}`)};return i?e.jsx(c,{children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"جاري تحميل التقارير..."})]})})}):e.jsx(c,{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"التقارير والإحصائيات"}),e.jsx("p",{className:"text-gray-600",children:"تابع أداء متجرك وحلل البيانات المهمة"})]}),s&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"الإحصائيات السريعة"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"إجمالي المبيعات"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n(s.general?.total_revenue)})]}),e.jsx(d,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"إجمالي الأرباح"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n(s.general?.total_profit)})]}),e.jsx(o,{className:"w-8 h-8 text-emerald-500"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"الديون المستحقة"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n(s.debts?.pending_amount)})]}),e.jsx(m,{className:"w-8 h-8 text-yellow-500"})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"عدد المنتجات"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.general?.total_products})]}),e.jsx(x,{className:"w-8 h-8 text-purple-500"})]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:g.map(t=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p(t.id),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:`${t.color} p-3 rounded-lg`,children:e.jsx(t.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"mr-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),e.jsx("button",{className:"w-full bg-gray-50 hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"عرض التقرير"})]})},t.id))}),s?.today&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"إحصائيات اليوم"}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.today.sales_count}),e.jsx("p",{className:"text-sm text-gray-600",children:"عملية بيع"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n(s.today.total_revenue)}),e.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المبيعات"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:n(s.today.total_profit)}),e.jsx("p",{className:"text-sm text-gray-600",children:"صافي الربح"})]})]})})]})]})})}export{E as default};
